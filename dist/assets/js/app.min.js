function initMap(){console.log("Initializing Map");var e={lat:-23.6508,lng:-47.2284},t=new google.maps.Map(document.getElementById("map"),{zoom:14,center:e});new google.maps.Marker({position:e,map:t,icon:"assets/img/pin.png",title:"Tupará Glamping & Chill"})}var app={init:function(){app.initSlickSliders(),app.initEventListeners(),app.setupLightbox(),app.setupSearch(),app.setupUrlUpdateOnInputChange(),app.checkAccommodationAvailability(),app.setupReservationForm(),initMap()},initSlickSliders:function(){$(".banner-slider").slick({dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0}),$(".depoimento-slider").slick({dots:!1,speed:500,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]});var e=$(".galeria-slider"),n=$("#lightbox-counter");function o(e,t){e=e.slideCount;n.text(t+1+"/"+e)}e.slick({dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:3,autoplay:!1,arrows:!0,variableWidth:!0,responsive:[{breakpoint:768,settings:{variableWidth:!1,slidesToShow:1,slidesToScroll:1}}]}),e.on("afterChange",function(e,t,n){o(t,n)}),o(e.slick("getSlick"),0),$(window).width()<768&&$(".estrutura-slider").slick({dots:!1,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0}),$(".linha-slider").slick({dots:!1,speed:500,slidesToShow:4,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]})},initEventListeners:function(){var e=document.querySelector(".abrir-reserva"),e=(e&&e.addEventListener("click",function(){var e=document.querySelector(".resumo");e&&e.classList.remove("fechado")}),document.querySelector(".voltar")),e=(e&&e.addEventListener("click",function(){var e=document.querySelector(".resumo");e&&e.classList.add("fechado")}),document.getElementById("ver-mais-fotos"));e&&e.addEventListener("click",function(){var e=document.querySelector(".galeria-slider .item-galeria");e&&e.click()})},calculateRoute:function(){var e,n,t,o=document.getElementById("start-location").value;o?(e=new google.maps.DirectionsService,n=new google.maps.DirectionsRenderer,t=new google.maps.Map(document.getElementById("map"),{zoom:14,center:{lat:-23.6508,lng:-47.2284}}),n.setMap(t),e.route({origin:o,destination:"Estrada Municipal da Cachoeira, Ibiúna, SP",travelMode:"DRIVING"},function(e,t){"OK"==t?n.setDirections(e):alert("Não foi possível encontrar uma rota para o endereço fornecido.")})):alert("Por favor, insira um local de partida.")},mostrarLugaresProximos:function(){var t=new google.maps.Map(document.getElementById("map"),{zoom:14,center:{lat:-23.6508,lng:-47.2284}});[{position:{lat:-23.651,lng:-47.2278},title:"Mercado Local",icon:"assets/img/pin.png"},{position:{lat:-23.652,lng:-47.228},title:"Restaurante Local",icon:"assets/img/pin.png"},{position:{lat:-23.6505,lng:-47.229},title:"Posto de Gasolina",icon:"assets/img/pin.png"}].forEach(function(e){new google.maps.Marker({position:e.position,map:t,icon:e.icon,title:e.title})})},setupLightbox:function(){document.querySelectorAll("[data-uk-lightbox]").forEach(function(e){e.addEventListener("click",function(e){setTimeout(function(){document.querySelectorAll(".uk-open").forEach(function(e){e.style.display="block",e.style.opacity="1"})},100)})})},setupSearch:function(){console.log("iniciando"),document.querySelector(".btn-search").addEventListener("click",function(){var e=document.getElementById("checkin").value,t=document.getElementById("checkout").value,n=document.getElementById("num-hospedes").value||1;e&&t?app.simulateApiCall({checkin:e,checkout:t,guests:n},!0):alert("Por favor, preencha as datas de Check-in e Check-out.")})},checkAccommodationAvailability:function(){var e,l,c,i;window.location.pathname.includes("resultado.html")?(l=(e=new URLSearchParams(window.location.search)).get("checkin"),c=e.get("checkout"),i=e.get("guests")||1,app.simulateApiCall({checkin:l,checkout:c,guests:i},!1),l&&(document.getElementById("checkin").value=l),c&&(document.getElementById("checkout").value=c),i&&(document.getElementById("num-hospedes").value=i),app.updateAccommodationLinks(l,c,i)):window.location.pathname.includes("acomodacoes.html")&&(l=(e=new URLSearchParams(window.location.search)).get("checkin"),c=e.get("checkout"),i=e.get("guests")||1,l&&(document.getElementById("checkin").value=l),c&&(document.getElementById("checkout").value=c),i&&(document.getElementById("num-hospedes").value=i),l&&(document.getElementById("checkinReserva-lateral").value=l),c&&(document.getElementById("checkoutReserva-lateral").value=c),i&&(document.getElementById("num-hospedesReserva-lateral").value=i),setTimeout(function(){l&&(document.getElementById("checkin").value=l),c&&(document.getElementById("checkout").value=c),i&&(document.getElementById("num-hospedes").value=i),l&&(document.getElementById("checkinReserva-lateral").value=l),c&&(document.getElementById("checkoutReserva-lateral").value=c),i&&(document.getElementById("num-hospedesReserva-lateral").value=i);var e=document.getElementById("checkin"),t=document.getElementById("checkout"),n=document.getElementById("num-hospedes"),o=document.getElementById("checkinReserva-lateral"),a=document.getElementById("checkoutReserva-lateral"),s=document.getElementById("num-hospedesReserva-lateral");e.addEventListener("input",function(){o.value=e.value}),o.addEventListener("input",function(){e.value=o.value}),t.addEventListener("input",function(){a.value=t.value}),a.addEventListener("input",function(){t.value=a.value}),n.addEventListener("input",function(){s.value=n.value}),s.addEventListener("input",function(){n.value=s.value})},100))},updateAccommodationLinks:function(n,o,a){document.querySelectorAll(".item-acomodacoes").forEach(function(e){var t=`${e.getAttribute("href")}?checkin=${encodeURIComponent(n)}&checkout=${encodeURIComponent(o)}&guests=`+encodeURIComponent(a);e.setAttribute("href",t)})},simulateApiCall:function(n,o){setTimeout(function(){var e,t={data:{checkin:n.checkin,checkout:n.checkout,guests:n.guests,accommodations:[{type:"Camping",available:!0},{type:"Chale",available:!0},{type:"Baia",available:!0}]}};app.updateAccommodations(t.data.accommodations),console.log("Resposta da API simulada:",JSON.stringify(t,null,2)),o&&(e=`resultado.html?checkin=${encodeURIComponent(n.checkin)}&checkout=${encodeURIComponent(n.checkout)}&guests=`+encodeURIComponent(n.guests),window.location.href=e),console.log("Resposta da API simulada:",JSON.stringify(t,null,2))},1e3)},updateAccommodations:function(e){e.forEach(function(e){var t="acomodacao-"+e.type.toLowerCase(),t=document.getElementById(t);t&&(e.available?t.style.display="block":t.style.display="none")})},setupReservationForm:function(){document.querySelector(".btn-reserva").addEventListener("click",function(){app.makeReservation()})},makeReservation:function(){var e=document.getElementById("checkin").value,t=document.getElementById("checkout").value,n=document.getElementById("num-hospedes").value||1;e&&t?app.simulateReserveApiCall({checkin:e,checkout:t,guests:n}):alert("Por favor, preencha as datas de Check-in e Check-out.")},simulateReserveApiCall:function(t){setTimeout(function(){var e={status:"success",message:"Reserva realizada com sucesso!",reservationDetails:{checkin:t.checkin,checkout:t.checkout,guests:t.guests}};console.log("Resposta da API de reserva simulada:",JSON.stringify(e,null,2)),alert(e.message)},1e3)},setupUrlUpdateOnInputChange:function(){console.log("Função setupUrlUpdateOnInputChange foi chamada");var a=document.getElementById("checkin"),s=document.getElementById("checkout"),l=document.getElementById("num-hospedes"),e=document.getElementById("checkinReserva-lateral"),t=document.getElementById("checkoutReserva-lateral"),n=document.getElementById("num-hospedesReserva-lateral");function o(){var e=a?a.value:null,t=s?s.value:null,n=l?l.value:1,o=new URL(window.location.href);e&&o.searchParams.set("checkin",e),t&&o.searchParams.set("checkout",t),o.searchParams.set("guests",n),window.history.pushState({},"",o)}a&&a.addEventListener("input",o),s&&s.addEventListener("input",o),l&&l.addEventListener("input",o),e&&e.addEventListener("input",function(){a.value=e.value,o()}),t&&t.addEventListener("input",function(){s.value=t.value,o()}),n&&n.addEventListener("input",function(){l.value=n.value,o()})},increaseGuestsModal:function(){var e,t=document.getElementById("num-hospedesReserva-modal");t?(e=parseInt(t.value),t.value=e+1):console.error("Elemento 'num-hospedesReserva-modal' não encontrado.")},decreaseGuestsModal:function(){var e,t=document.getElementById("num-hospedesReserva-modal");t?1<(e=parseInt(t.value))&&(t.value=e-1):console.error("Elemento 'num-hospedesReserva-modal' não encontrado.")},increaseGuestsLateral:function(){var e,t=document.getElementById("num-hospedesReserva-lateral");t?(e=parseInt(t.value),t.value=e+1):console.error("Elemento 'num-hospedesReserva-lateral' não encontrado.")},decreaseGuestsLateral:function(){var e,t=document.getElementById("num-hospedesReserva-lateral");t?1<(e=parseInt(t.value))&&(t.value=e-1):console.error("Elemento 'num-hospedesReserva-lateral' não encontrado.")},decreaseGuests:function(){var e=document.getElementById("num-hospedes"),t=parseInt(e.value);1<t&&(e.value=t-1)},increaseGuests:function(){var e=document.getElementById("num-hospedes"),t=parseInt(e.value);e.value=t+1}};$(document).ready(function(){app.init()});